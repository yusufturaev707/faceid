{% extends "unfold/layouts/base.html" %}
{% load static %}

{% block content %}
<div class="w-full max-w-4xl mx-auto">

    <div class="mb-8">
        <h1 class="text-3xl font-semibold text-gray-900">Excel fayldan xodimlarni yuklash</h1>
        <p class="text-gray-500 mt-1">Excel shablonni yuklab oling va ma ºlumotlarni import qiling</p>
    </div>

    <div class="bg-blue-50 border-l-4 border-blue-500 px-5 py-4 rounded shadow-sm mb-8">
        <h3 class="font-semibold text-blue-800 mb-2 text-lg flex items-center">
            Ko‚Äòrsatmalar
        </h3>

        <ol class="list-decimal list-inside ml-4 space-y-1 text-blue-900">
            <li>
                <a href="{% url 'admin:person_download_template' %}"
                   class="text-blue-700 font-medium hover:text-blue-900 underline">
                    üì• Excel shablonni yuklab oling
                </a>
            </li>
            <li>Shablonni to‚Äòldiring (birinchi qator ‚Äî sarlavha)</li>
            <li>Tayyor faylni quyida yuklang</li>
        </ol>
    </div>

    <div class="overflow-x-auto mb-10 shadow-lg rounded-lg border border-gray-200">
        <table class="min-w-full text-left bg-white">
            <thead class="bg-blue-gray-50 border-b">
                <tr>
                    <th class="px-4 py-3 text-xs font-semibold text-gray-600 uppercase">Maydon</th>
                    <th class="px-4 py-3 text-xs font-semibold text-gray-600 uppercase">Format</th>
                    <th class="px-4 py-3 text-xs font-semibold text-gray-600 uppercase">Misol</th>
                </tr>
            </thead>

            <tbody class="divide-y">
                <tr class="hover:bg-gray-50">
                    <td class="px-4 py-3 text-sm">Jinsi</td>
                    <td class="px-4 py-3 text-sm">M yoki F</td>
                    <td class="px-4 py-3 text-sm">M / F</td>
                </tr>
                <tr class="hover:bg-gray-50">
                    <td class="px-4 py-3 text-sm">PINFL</td>
                    <td class="px-4 py-3 text-sm">14 ta raqam</td>
                    <td class="px-4 py-3 text-sm">12345678901234</td>
                </tr>
                <tr class="hover:bg-gray-50">
                    <td class="px-4 py-3 text-sm">Pcode</td>
                    <td class="px-4 py-3 text-sm">1,2,3 .. 14</td>
                    <td class="px-4 py-3 text-sm">14</td>
                </tr>
                <tr class="hover:bg-gray-50">
                    <td class="px-4 py-3 text-sm">Role</td>
                    <td class="px-4 py-3 text-sm">['staff', 'supervisor']</td>
                    <td class="px-4 py-3 text-sm">supervisor</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Upload Form Card -->
    <form method="post" enctype="multipart/form-data" class="space-y-8">
        {% csrf_token %}
        <div class="p-6 bg-white rounded-2xl shadow-xl border border-gray-200 space-y-4">
            <div class="relative">
                {{ form.excel_file }}

                <label for="{{ form.excel_file.id_for_label }}"
                       class="absolute left-3 -top-2 bg-white px-1 text-sm text-indigo-600 font-medium transition-all">
                    {{ form.excel_file.label }}
                </label>
                <br>
                {% if form.excel_file.help_text %}
                <p class="text-xs text-gray-500 mt-2">{{ form.excel_file.help_text|safe }}</p>
                {% endif %}

                {% for error in form.excel_file.errors %}
                <p class="text-sm text-red-600 mt-2 flex items-center font-medium">
                    <span class="material-icons text-sm mr-1">error</span> {{ error }}
                </p>
                {% endfor %}
            </div>
        </div>

        <div class="flex justify-end space-x-4 pt-6">

    <!-- Back Button -->
    <a href="{% url 'admin:supervisor_supervisor_changelist' %}"
       class="px-5 py-2.5 rounded-lg
              bg-gray-100 text-gray-700 font-medium
              shadow hover:shadow-md
              hover:bg-gray-200
              transition duration-200 ease-out">
        ‚Üê Orqaga
    </a>

    <!-- Save Button (MUI Contained Primary) -->
    <button type="submit"
        class="relative px-7 py-2.5 rounded-lg
               bg-indigo-600 text-black font-semibold
               shadow-md hover:shadow-md
               hover:bg-indigo-700
               active:scale-95
               transition duration-200 ease-out">
        Saqlash
    </button>

</div>

    </form>
</div>
{% endblock %}
