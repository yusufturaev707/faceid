{% extends "unfold/layouts/index.html" %}
{% load static %}

{% block content %}
<div class="w-full max-w-4xl mx-auto">

    <!-- Page title -->
    <div class="mb-6">
        <h1 class="text-2xl font-semibold">Excel fayldan vakil va nazoratchilarni yuklash</h1>
        <p class="text-gray-500 mt-1">Excel shablonni yuklang va maʼlumotlarni import qiling</p>
    </div>

    <!-- Instructions -->
    <div class="bg-blue-50 border border-blue-200 text-blue-900 px-4 py-3 rounded-lg mb-6">
        <h3 class="font-semibold mb-2">Ko‘rsatmalar:</h3>
        <ol class="list-decimal list-inside space-y-1">
            <li>
                <a href="{% url 'admin:person_download_template' %}" class="text-blue-700 underline">
                    Excel shablonni yuklab oling
                </a>
            </li>
            <li>Shablonni to‘ldiring (1-qator — sarlavha)</li>
            <li>Tayyor faylni pastdan yuklang</li>
        </ol>
    </div>

    <!-- Required fields -->
    <div class="bg-yellow-50 border border-yellow-200 text-yellow-900 px-4 py-3 rounded-lg mb-6">
        <h3 class="font-semibold mb-2">Majburiy maydonlar:</h3>
        <ul class="list-disc list-inside space-y-1">
            <li><strong>Ism</strong></li>
            <li><strong>Familiya</strong></li>
            <li><strong>Pasport seriya (2 harf)</strong></li>
            <li><strong>Pasport raqam (7 raqam)</strong></li>
            <li><strong>Telefon +998 bilan boshlanishi kerak</strong></li>
        </ul>
    </div>

    <!-- Field formats table -->
    <div class="overflow-x-auto mb-8">
        <table class="min-w-full border border-gray-300 rounded-lg">
            <thead class="bg-gray-100">
                <tr>
                    <th class="px-4 py-2 border">Maydon</th>
                    <th class="px-4 py-2 border">Format</th>
                    <th class="px-4 py-2 border">Misol</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="px-4 py-2 border">Tug‘ilgan sana</td>
                    <td class="px-4 py-2 border">YYYY-MM-DD</td>
                    <td class="px-4 py-2 border">1990-01-15</td>
                </tr>
                <tr>
                    <td class="px-4 py-2 border">Jinsi</td>
                    <td class="px-4 py-2 border">M yoki F</td>
                    <td class="px-4 py-2 border">M / F</td>
                </tr>
                <tr>
                    <td class="px-4 py-2 border">PINFL</td>
                    <td class="px-4 py-2 border">14 ta raqam</td>
                    <td class="px-4 py-2 border">12345678901234</td>
                </tr>
                <tr>
                    <td class="px-4 py-2 border">Telefon</td>
                    <td class="px-4 py-2 border">+998XXXXXXXXX</td>
                    <td class="px-4 py-2 border">+998901234567</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Upload form -->
    <form method="post" enctype="multipart/form-data" class="space-y-6">
        {% csrf_token %}

        <div>
            {{ form.excel_file.label_tag }}
            {{ form.excel_file }}

            {% if form.excel_file.errors %}
            <p class="text-red-600 text-sm mt-1">{{ form.excel_file.errors }}</p>
            {% endif %}
        </div>

        <div class="flex justify-between">
            <a href="{% url 'admin:access_control_normaluser_import_excel' %}"
               class="px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg">
                ← Orqaga
            </a>

            <button type="submit"
                    class="px-5 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg">
                Yuklash
            </button>
        </div>
    </form>
</div>
{% endblock %}
